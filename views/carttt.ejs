<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cart</title>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">

</head>
<style>
  .box {
    height: 100vh;
    width: 100vw;
    display: flex;
    justify-content: center;
    align-items: center;
  }
</style>

<body>
  <nav class="w-full fixed bg-cyan-200 top-0 left-0 px-5 py-3 flex  justify-between">
    <h3 class="text-2xl">Scatch</h3>
    <a href="/shop">
      <h3 class="text-xl px-5 mr-12">Shop</h3>
    </a>
  </nav>

  <% if (cart.length === 0) { %>
    <p>Your cart is empty.</p>
  <% } else { %>
    <% cart.forEach(product => { %>
    <div class="box px-20 py-20 gap-5 bg-cyan-700">
      <div class="w-96 rounded-md overflow-hidden" style="background-color: #DFBDB1;">
        <div class="w-84 h-72 flex items-center justify-center" style="background-color: #F5DCD3;">
          <!-- EJS syntax to display product image -->
          <img src="/uploads/<%= product.image %>" class="h-[12rem]" alt="<%= product.name %>">
        </div>
        <div class="w-84 flex justify-between px-5 py-4">
          <!-- EJS syntax to display product name -->
          <h3 class="text-2xl"><%= product.name %></h3>
          <div class="flex items-center gap-2">
            <!-- Add to Cart button -->
            <form action="/cart/add" method="POST">
              <!-- Hidden input field to store product ID -->
              <input type="hidden" name="productId" value="<%= product.id %>">
              <button type="submit" class="w-7 h-7 bg-white flex rounded-full items-center justify-center ri-add-line"></button>
            </form>
            <div class="px-2 py-1 rounded-md bg-white text-black">01</div>
            <i class="w-7 h-7 bg-white flex rounded-full items-center justify-center ri-subtract-line"></i>
          </div>
        </div>
        <div class="flex items-center justify-between px-5 py-3">
          <h4 class="text-lg">Net Total</h4>
          <!-- EJS syntax to display product price -->
          <h2 class="text-lg">₹ <%= product.price %></h2>
        </div>
      </div>
      <div class="w-[70%]">
        <h3 class="text-xl">Price Breakdown</h3>
        <div class="px-10 mt-5">
          <div class="flex mt-2">
            <h4 class="w-1/3">Total MRP</h4>
            <h4>₹ <%= product.price %></h4>
          </div>
          <div class="flex mt-2">
            <h4 class="w-1/3">Platform Fee</h4>
            <h4>₹ 20</h4>
          </div>
          <div class="flex mt-2">
            <h4 class="w-1/3">Shipping Fee</h4>
            <h4>FREE</h4>
          </div>
        </div>
        <div class="w-full h-[1px] bg-black mt-10"></div>
        <div class="flex mt-5">
          <h3 class="w-1/3 text-xl">Total Amount</h3>
          <h3 class="font-semibold text-xl text-green-600">₹ <%= product.price %> + 20</h3>
        </div>
      </div>
    </div>
    <% }); %>
  <% } %>
  


</body>

</html>